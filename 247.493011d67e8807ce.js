"use strict";(self.webpackChunkbebpo_webmail_ui=self.webpackChunkbebpo_webmail_ui||[]).push([[247],{6247:(g,d,t)=>{t.r(d),t.d(d,{MenuModule:()=>E});var n=t(6895),o=t(4466),u=t(5378),i=t(2731),h=t(8505),l=t(262),p=t(515),c=t(3202),C=t(9936),e=t(4650),b=t(8940),A=t(4463),O=t(6199),v=t(6147),x=t(4283),_=t(4215);function T(a,s){if(1&a&&(e.TgZ(0,"span",2),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.folderStat.unread)}}class f{constructor(s,r,m){this.router=s,this.route=r,this.folderStore=m}loadMessageList(s){this.folderStore.setSelectedFolder(s),this.router.navigate(["message-list"],{relativeTo:this.route})}showUnreadMessages(s){return x.V.FOLDERS_WITH_UNREAD_MESSAGES.includes(s.folder)&&s.unread>0}}function y(a,s){1&a&&e.GkF(0)}function N(a,s){if(1&a&&(e.ynx(0),e._UZ(1,"app-menu-button",13),e.BQk()),2&a){const r=s.$implicit;e.xp6(1),e.Q6J("folderStat",r)}}function R(a,s){if(1&a&&(e.ynx(0),e.YNc(1,N,2,1,"ng-container",12),e.ALo(2,"async"),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,r.folderStore.getFolderStats()))}}function Z(a,s){if(1&a&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&a){const r=s.$implicit;e.Q6J("value",r),e.xp6(1),e.Oqu(r)}}function D(a,s){if(1&a&&(e.ynx(0),e.TgZ(1,"label",14),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",15)(5,"option",16),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,Z,2,2,"option",17),e.qZA(),e.BQk()),2&a){const r=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"label.selectMailbox")),e.xp6(4),e.Oqu(e.lcZ(7,5,"label.pleaseSelect")),e.xp6(2),e.Q6J("ngForOf",r.otherMailboxes)}}f.\u0275fac=function(s){return new(s||f)(e.Y36(i.F0),e.Y36(i.gz),e.Y36(v.N))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-menu-button"]],inputs:{folderStat:"folderStat"},decls:5,vars:4,consts:[["type","button",1,"btn-mailbox","d-flex","justify-content-between","align-items-center",3,"click"],["class","badge rounded-pill rounded-pill-badge",4,"ngIf"],[1,"badge","rounded-pill","rounded-pill-badge"]],template:function(s,r){1&s&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.loadMessageList(r.folderStat.folder)}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"folder"),e.qZA(),e.YNc(4,T,2,1,"span",1),e.qZA()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,2,r.folderStat.folder)),e.xp6(2),e.Q6J("ngIf",r.showUnreadMessages(r.folderStat)))},dependencies:[n.O5,_.k],styles:[".btn-mailbox[_ngcontent-%COMP%]{width:100%;padding:15px 8px;border:none;margin:0;background-color:var(--gray-200);color:var(--gray-500);text-align:start}.btn-mailbox[_ngcontent-%COMP%]:focus, .btn-mailbox[_ngcontent-%COMP%]:hover{background-color:var(--gray-150);font-weight:700}"],changeDetection:0});class S{constructor(s,r,m,L,I,B,P){this.modalService=s,this.cdRef=r,this.translate=m,this.router=L,this.messageService=I,this.route=B,this.folderStore=P,this.showMyMailbox=!0,this.showOtherMailboxes=!1,this.otherMailboxes=["Gemeinde A","Gemeinde B","Gemeinde C"]}ngOnInit(){this.getFolderStats()}sendNewMessage(){this.router.navigate(["menu/new-message/new"],{state:{type:C.C.NEW}})}getFolderStats(){this.folderStats$=this.messageService.getFolderStats().pipe((0,h.b)({next:s=>{this.folderStore.setSelectedFolder(c.g.INBOX),this.folderStore.setFolderStats(s),this.router.navigate(["message-list"],{relativeTo:this.route})}}),(0,l.K)(s=>(console.error("An error occurred while requesting the folder stats",s),p.E)))}}S.\u0275fac=function(s){return new(s||S)(e.Y36(b.tT),e.Y36(e.sBO),e.Y36(A.sK),e.Y36(i.F0),e.Y36(O.e),e.Y36(i.gz),e.Y36(v.N))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-menu"]],decls:30,vars:20,consts:[[4,"ngIf"],[1,"row","main-row"],[1,"col-2","menu-container"],["type","button",1,"gov-btn-primary-lg","btn-new-message",3,"click"],["aria-hidden","true",1,"fa-sharp","fa-solid","fa-plus"],[1,"d-flex","mailbox-container"],["type","button",1,"btn-icon-collapse",3,"click"],[1,"fa-solid","fa-xl",3,"ngClass"],[1,"flex-grow-1"],[1,"mailbox-heading"],[1,"flew-grow-1"],[1,"col-10"],[4,"ngFor","ngForOf"],[3,"folderStat"],["for","other-mailboxes"],["id","other-mailboxes","name","other-mailboxes",1,"mailbox-select-input"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(s,r){1&s&&(e.YNc(0,y,1,0,"ng-container",0),e.ALo(1,"async"),e.TgZ(2,"div",1)(3,"div",2)(4,"button",3),e.NdJ("click",function(){return r.sendNewMessage()}),e._UZ(5,"i",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",5)(9,"div")(10,"button",6),e.NdJ("click",function(){return r.showMyMailbox=!r.showMyMailbox}),e._UZ(11,"i",7),e.qZA()(),e.TgZ(12,"div",8)(13,"span",9),e._uU(14),e.ALo(15,"uppercase"),e.ALo(16,"translate"),e.qZA(),e.YNc(17,R,3,3,"ng-container",0),e.qZA()(),e.TgZ(18,"div",5)(19,"div")(20,"button",6),e.NdJ("click",function(){return r.showOtherMailboxes=!r.showOtherMailboxes}),e._UZ(21,"i",7),e.qZA()(),e.TgZ(22,"div",10)(23,"span",9),e._uU(24),e.ALo(25,"uppercase"),e.ALo(26,"translate"),e.qZA(),e.YNc(27,D,9,7,"ng-container",0),e.qZA()()(),e.TgZ(28,"div",11),e._UZ(29,"router-outlet"),e.qZA()()),2&s&&(e.Q6J("ngIf",e.lcZ(1,8,r.folderStats$)),e.xp6(6),e.hij(" ",e.lcZ(7,10,"button.newMessage")," "),e.xp6(5),e.Q6J("ngClass",r.showMyMailbox?"fa-angle-down":"fa-angle-right"),e.xp6(3),e.Oqu(e.lcZ(15,12,e.lcZ(16,14,"heading.myMailbox"))),e.xp6(3),e.Q6J("ngIf",r.showMyMailbox),e.xp6(4),e.Q6J("ngClass",r.showOtherMailboxes?"fa-angle-down":"fa-angle-right"),e.xp6(3),e.Oqu(e.lcZ(25,16,e.lcZ(26,18,"heading.otherMailboxes"))),e.xp6(3),e.Q6J("ngIf",r.showOtherMailboxes))},dependencies:[n.mk,n.sg,n.O5,i.lC,f,n.Ov,n.gd,A.X$],styles:[".main-row[_ngcontent-%COMP%]{margin-top:var(--header-height)}.menu-container[_ngcontent-%COMP%]{height:var(--main-height);border-right:1px solid var(--gray-300);background-color:var(--gray-200);overflow-y:auto}.btn-new-message[_ngcontent-%COMP%]{width:100%;margin-top:30px}.mailbox-container[_ngcontent-%COMP%]{margin-top:18px}.btn-icon-collapse[_ngcontent-%COMP%]{width:24px;height:24px;padding:0;border:none;margin-right:8px;background-color:var(--gray-200);color:var(--blue-i500)}.mailbox-heading[_ngcontent-%COMP%]{color:var(--gray-500);font-weight:700}.mailbox-select-input[_ngcontent-%COMP%]{width:100%;height:44px;border:1px solid var(--gray-400);border-radius:4px;margin-top:10px;color:var(--gray-500)}"],changeDetection:0});const F=[{path:"",component:S,children:[{path:"message-list",loadChildren:()=>Promise.all([t.e(592),t.e(334)]).then(t.bind(t,2334)).then(a=>a.MessageListModule)},{path:"new-message",loadChildren:()=>Promise.all([t.e(592),t.e(583)]).then(t.bind(t,2583)).then(a=>a.NewMessageModule)},{path:"new-message/new",loadChildren:()=>Promise.all([t.e(592),t.e(583)]).then(t.bind(t,2583)).then(a=>a.NewMessageModule)}]}];class M{}M.\u0275fac=function(s){return new(s||M)},M.\u0275mod=e.oAB({type:M}),M.\u0275inj=e.cJS({imports:[i.Bz.forChild(F),i.Bz]});class E{}E.\u0275fac=function(s){return new(s||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[n.ez,M,o.m,u.z]})},4283:(g,d,t)=>{t.d(d,{V:()=>o});var n=t(3202);class o{}o.FOLDERS_WITH_UNREAD_MESSAGES=[n.g.INBOX,n.g.ARCHIVE],o.FILE_MAX_SIZE_MB=200},6572:(g,d,t)=>{t.d(d,{r:()=>o});const n="http://localhost:8080";class o{}o.MESSAGE_FOLDER_STATS=`${n}/message/`,o.MESSAGE_ALL=`${n}/message/all`,o.MESSAGE_UNREAD=`${n}/message/unread`,o.MESSAGE_READ=`${n}/message/read`,o.MESSAGE_DELETE=`${n}/message`,o.MESSAGE_ARCHIVE=`${n}/message/archive`,o.MESSAGE_DRAFT=`${n}/message/draft`,o.MESSAGE_SEND=`${n}/message/send`,o.ATTACHMENT_LOAD=`${n}/attachment/bytes`,o.ATTACHMENT_SUBMIT=`${n}/attachment/submitAttachment`,o.ACCOUNT_API=`${n}/identity`},3202:(g,d,t)=>{t.d(d,{g:()=>n});var n=(()=>{return(o=n||(n={})).INBOX="INBOX",o.ARCHIVE="ARCHIVE",o.OUTBOX="OUTBOX",o.SENT="SENT",o.DRAFT="DRAFT",o.RECYCLE_BIN="RECYCLE_BIN",n;var o})()},9936:(g,d,t)=>{t.d(d,{C:()=>n});var n=(()=>{return(o=n||(n={})).NEW="NEW",o.REPLY="REPLY",o.SHARE="SHARE",n;var o})()},4215:(g,d,t)=>{t.d(d,{k:()=>i});var n=t(3202),o=t(4650),u=t(4463);class i{constructor(l){this.translate=l}transform(l,p){let c="";switch(l){case n.g.INBOX:c=this.translate.instant("button.incoming");break;case n.g.ARCHIVE:c=this.translate.instant("button.archive");break;case n.g.DRAFT:c=this.translate.instant("button.drafts");break;case n.g.OUTBOX:c=this.translate.instant("button.outgoing");break;case n.g.RECYCLE_BIN:c=this.translate.instant("button.deletedMessages");break;case n.g.SENT:c=this.translate.instant("button.sentMessages")}return c}}i.\u0275fac=function(l){return new(l||i)(o.Y36(u.sK,16))},i.\u0275pipe=o.Yjl({name:"folder",type:i,pure:!0})},6199:(g,d,t)=>{t.d(d,{e:()=>i});var n=t(6572),o=t(4650),u=t(529);class i{constructor(l){this.httpClient=l,this.userid="buelent"}getFolderStats(){return this.httpClient.get(n.r.MESSAGE_FOLDER_STATS,{headers:{userid:this.userid}})}getAllEgvpMessages(l,p){return this.httpClient.get(`${n.r.MESSAGE_ALL}/${l}/${p}`,{headers:{userid:this.userid}})}getUnreadEgvpMessages(l,p){return this.httpClient.get(`${n.r.MESSAGE_UNREAD}/${l}/${p}`,{headers:{userid:this.userid}})}setEgvpMessageRead(l){return this.httpClient.put(`${n.r.MESSAGE_READ}/${l}`,{},{headers:{userid:this.userid}})}archiveMessage(l){return this.httpClient.put(`${n.r.MESSAGE_ARCHIVE}/${l}`,{},{headers:{userid:this.userid}})}deleteEgvpMessage(l){return this.httpClient.delete(`${n.r.MESSAGE_DELETE}/${l}`,{headers:{userid:this.userid}})}createCraft(){return this.httpClient.post(`${n.r.MESSAGE_DRAFT}`,{},{headers:{userid:this.userid}})}sendMessage(l){return this.httpClient.put(`${n.r.MESSAGE_SEND}/${l}`,{},{headers:{userid:this.userid}})}}i.\u0275fac=function(l){return new(l||i)(o.LFG(u.eN))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})},6147:(g,d,t)=>{t.d(d,{N:()=>i});var n=t(1135),o=t(3202),u=t(4650);class i{constructor(){this.selectedFolder=new n.X(o.g.INBOX),this.folderStats=new n.X([])}getSelectedFolder(){return this.selectedFolder.asObservable()}getFolderStats(){return this.folderStats.asObservable()}setSelectedFolder(l){this.selectedFolder.next(l)}setFolderStats(l){this.folderStats.next(l)}}i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}}]);